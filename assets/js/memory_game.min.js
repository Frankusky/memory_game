"use strict";!function(){for(var a=0;a<8;a++)(new Image).src="assets/img/"+(a+1)+".gif";var e=[[],[],[],[]],s={},r=function(a){var s=new RegExp(a,"g"),r=e.toString().match(s);return null===r||r.length<2},n=function(){for(var a=0;a<4;a++)for(var s=0;s<4;s++)for(var n=!0;n;){var t=Math.floor(8*Math.random())+1;r(t)&&(e[a].push(t),n=!1)}};n();var t=0,d=!1,i=!0,o=0,c=0,l=0,u=function(){l++,$("#movesAmount").text(l),11!==l&&15!==l||$("#starsAmount").fadeOut(function(){this.innerHTML=this.innerHTML.slice(0,-1)}).fadeIn()},m=function(){i=!1,o=setInterval(function(){c++,$("#timer").html(c+" sec")},1e3)};$(".card").click(function(){i&&m();var a=$(this),r=a.index(),n=a.parent().index(),o=e[n][r];if($(".pickedCard").length>1&&(clearTimeout(t),d||$(".pickedCard").css("background-image",""),$(".pickedCard").removeClass("pickedCard"),s={}),!a.hasClass("pickedCard")&&-1!==a.css("background-image").indexOf("cardBack"))if(a.css("background-image","url(assets/img/"+o+".gif)"),a.addClass("pickedCard"),s.value)if(u(),s.value===o){if(d=!0,a.addClass("pairFounded"),s.dom.addClass("pairFounded"),$(".pickedCard").removeClass("pickedCard"),s={},16===$(".pairFounded").length){$("#modal, #winMessage").fadeIn();var f=$("#starsAmount").text();$("#stats").html("Total Time: "+c+" seconds<br>Total Moves: "+l+"<br>Stars: "+f)}}else d=!1,t=setTimeout(function(){$(".pickedCard").css("background-image",""),$(".pickedCard").removeClass("pickedCard"),s={}},1e3);else s.value=o,s.dom=a}),$(".new_game").click(function(){$("#modal").fadeOut(),$("#startMessage").css("display","none"),$(".card").css("background-image",""),$("#starsAmount").html("★★★"),$("#movesAmount").html("0"),$("#timer").html(0),$(".pairFounded").removeClass("pairFounded"),clearInterval(o),s={},e=[[],[],[],[]],i=!0,c=0,l=0,n()})}();